"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[450],{722:function(e,t,r){r.d(t,{CE:function(){return l},CN:function(){return f},Df:function(){return i},TP:function(){return p},gH:function(){return m}});var n=r(861),a=r(757),c=r.n(a),s=r(294),o="https://api.themoviedb.org/3",u="19d2d0f24e837c8f3ad6ea805c1086b1",i=function(){var e=(0,n.Z)(c().mark((function e(){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("".concat(o,"/trending/movie/day?api_key=").concat(u));case 2:return t=e.sent,r=t.data,e.abrupt("return",r.results);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("".concat(o,"/movie/").concat(t,"?api_key=").concat(u));case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("".concat(o,"/movie/").concat(t,"/credits?api_key=").concat(u));case 2:return r=e.sent,n=r.data,e.abrupt("return",n.cast);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("".concat(o,"/movie/").concat(t,"/reviews?api_key=").concat(u));case 2:return r=e.sent,n=r.data,e.abrupt("return",n.results);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,n.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("".concat(o,"/search/movie?api_key=").concat(u,"&query=").concat(t));case 2:return r=e.sent,n=r.data,e.abrupt("return",n.results);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},450:function(e,t,r){r.r(t),r.d(t,{default:function(){return S}});var n=r(861),a=r(439),c=r(757),s=r.n(c),o=r(791),u=r(722),i="SearchBar_search_form__JD4pT",p="SearchBar_container_form__Jw+G9",f="SearchBar_input__bIy50",l="SearchBar_search_button__nzXi6",m="SearchBar_title__l+gon",v=r(184),_=function(e){var t=e.onSearch,r=(0,o.useState)(""),n=(0,a.Z)(r,2),c=n[0],s=n[1];return(0,v.jsxs)("div",{className:p,children:[(0,v.jsx)("p",{className:m,children:"Please, enter name of movie for search"}),(0,v.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===c.trim())return alert("Enter data for search");t(c),s("")},className:i,children:[(0,v.jsx)("input",{type:"text",name:"movie",value:c,onChange:function(e){s(e.currentTarget.value.toLowerCase())},autoComplete:"off",autoFocus:!0,className:f}),(0,v.jsx)("button",{type:"submit",className:l,children:"Search"})]})]})},h=r(87),d=r(689),x=r(556),w=r(94),g="Movie_section_movies__5mvkq",k="Movie_container_movie__F1GFJ",y="Movie_list__3jSH+",b="Movie_item__uYRzM",j="Movie_link__XtdTs",Z="Movie_img__PWLne",N="Movie_text__65fbV",S=function(){var e=(0,o.useState)([]),t=(0,a.Z)(e,2),r=t[0],c=t[1],i=(0,h.lr)(),p=(0,a.Z)(i,2),f=p[0],l=p[1],m=(0,d.TH)(),S=f.get("query");(0,o.useEffect)((function(){if(S){var e=function(){var e=(0,n.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.gH)(S);case 3:0===(t=e.sent).length&&(w.Am.error('There are no movies on your request "'.concat(S,'"')),c([])),c(t),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error("...ooopppsssss");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}}),[S]);return(0,v.jsxs)("section",{className:g,children:[(0,v.jsx)(_,{onSearch:function(e){l({query:"".concat(e)})}}),(0,v.jsx)("div",{className:k,children:r&&(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("ul",{className:y,children:r.map((function(e){var t=e.id,r=e.poster_path,n=e.title;return(0,v.jsx)("li",{className:b,children:(0,v.jsxs)(h.rU,{to:"/movies/".concat(t),state:{from:m},className:j,children:[(0,v.jsx)("img",{className:Z,src:r?"https://image.tmdb.org/t/p/w200/".concat(r):x,alt:n}),(0,v.jsx)("p",{className:N,children:n})]})},t)}))})})})]})}},556:function(e,t,r){e.exports=r.p+"static/media/noImage.5882c20d3ddf67c36e30.jpeg"}}]);
//# sourceMappingURL=450.33c7fb2c.chunk.js.map